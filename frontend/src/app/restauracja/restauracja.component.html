<div class="home">
  <h1>{{ title() }}</h1>
  <p>To jest strona startowa Twojej aplikacji Angular.</p>

  <h2>Lista restauracji:</h2>
  <div>

    <!-- Wywołanie metody szukającej restauracji -->
  <button
    pButton
    icon="pi pi-search"
    label="Szukaj restauracji"
    (click)="getRestaurant()">
  </button>

  <!-- Zmiana zmiennej addingDialog na true powoduje otwarcie dialogu dodawania restauracji -->
  <button
  pButton
  icon="pi pi-search"
  label="Dodaj restauracje"
  (click)="addingDialog = true">
</button>
  </div>
  <ul>
    <li *ngFor="let restaurant of restaurant">
      <strong>{{ restaurant.nazwa }}</strong> - {{ restaurant.adres }} (Nr kontaktowy: {{ restaurant.nr_kontaktowy }})(email: {{ restaurant.email }})
    </li>
  </ul>
</div>

<!-- Dialog dodawania restauracji, którego widocznosć jest zależna od zmiennej addingDialog -->
<p-dialog
  [(visible)]="addingDialog"
  [header]="'Dodawanie restauracji'"
  [modal]="true"
  [styleClass]="'my-dialog'">
  <ng-template pTemplate="content">
    <div class="field">

      <div class="field">
        <h4>Dane restauracji</h4>
        <div class="field">
          <label for="name">Nazwa</label>
          <input
            type="text"
            pInputText
            id="name"
            [(ngModel)]="newRestaurant.nazwa" 
            name="name"         
          />
          <!-- ngModel odpowiada za dwukierunkowe wiązanie danych między modelem a widokiem tak, że w momencie wpisania nazwy restauracji w pole input, wartość ta jest automatycznie przypisywana do właściwości newRestaurant.name w komponencie Angular. -->
        </div >
        <div class="field">
          <label>adres</label>
          <input
            type="text"
            pInputText
            [(ngModel)]="newRestaurant.adres"
            name="address"
          />
        </div>
        <div class="field">
          <label>nr kontaktowy</label>
          <input
            type="number"
            pInputNumber
            [(ngModel)]="newRestaurant.nr_kontaktowy"
            name="kontaktowy" 
          />
        </div>
        <div class="field">
          <label>email</label>
          <input
            type="text"
            pInputText
            [(ngModel)]="newRestaurant.email"
            name="email" 
          />
        </div>
      </div>
    </div>
  </ng-template>
  <ng-template pTemplate="footer">
    <button pButton label="Anuluj" (click)="addingDialog = false"></button>
    <button pButton label="Zapisz" (click)="saveRestaurant()"></button>
  </ng-template>
</p-dialog>
